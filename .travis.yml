language: java

jdk:
  - openjdk8

sudo: required

services:
  - docker

install: true # This runs the "true" command in the install phase; thus skipping install
script:
  - mvn verify
  - if [[ "$TRAVIS_BRANCH" == master && "$TRAVIS_PULL_REQUEST" == false ]]
    then mvn compile jib:build
    fi
cache:
  directories:
    - $HOME/.m2/repository/